import{r as o,u as f,a as b,j as e,P as v,B as u,T as j,b as c,p as w}from"./index-DP8KUik0.js";import{d as k}from"./LockOutlined-rpF_49A8.js";import{G as n}from"./Grid-DYDRhpgO.js";import{A as y}from"./Avatar-DphCwLWf.js";import{T as d}from"./TextField-wt1h2hNg.js";import{F as S,C}from"./FormControlLabel-f3UpizWu.js";import"./SwitchBase-BEEy8CUH.js";import"./useThemeProps-RlFDv_1a.js";function B(){const t=o.useRef(null),s=o.useRef(null),l=f(),p=b(),[i,m]=o.useState(!1);o.useEffect(()=>{const r=localStorage.getItem("userEmail"),a=localStorage.getItem("userPassword");r&&a&&(t.current.value=r,s.current.value=a,m(!0))},[]);const h=async()=>{const r={email:t.current.value,password:s.current.value};try{await p(w(r)).unwrap(),i?(localStorage.setItem("userEmail",r.email),localStorage.setItem("userPassword",r.password)):(localStorage.removeItem("userEmail"),localStorage.removeItem("userPassword")),l("/dashboard")}catch(a){alert("Sai thông tin! "+a.message)}},g=r=>{r.preventDefault(),h()},x=()=>{l("/forgotpassword")};return e.jsxs(n,{container:!0,component:"main",sx:{height:"100vh"},children:[e.jsx(n,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(/assets/images/background.png)",backgroundSize:"cover",backgroundPosition:"left"}}),e.jsx(n,{item:!0,xs:12,sm:8,md:5,component:v,elevation:6,square:!0,children:e.jsxs(u,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(y,{sx:{m:1,bgcolor:"secondary.main"},children:e.jsx(k,{})}),e.jsx(j,{component:"h1",variant:"h5",children:"Đăng nhập"}),e.jsxs(u,{component:"form",noValidate:!0,sx:{mt:1},children:[e.jsx(d,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,inputRef:t}),e.jsx(d,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mật khẩu",type:"password",id:"password",autoComplete:"current-password",inputRef:s}),e.jsx(S,{control:e.jsx(C,{value:"remember",color:"primary",checked:i,onChange:r=>m(r.target.checked)}),label:"Ghi nhớ tài khoản"}),e.jsx(c,{className:"font-bold h-15",onClick:g,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Đăng nhập"}),e.jsx(c,{fullWidth:!0,variant:"outlined",onClick:x,sx:{mt:1,mb:2,color:"secondary.main",borderColor:"secondary.main","&:hover":{borderColor:"secondary.dark",backgroundColor:"rgba(255, 193, 7, 0.1)"},borderRadius:2,height:"32px"},children:"Quên mật khẩu?"})]})]})})]})}export{B as default};
