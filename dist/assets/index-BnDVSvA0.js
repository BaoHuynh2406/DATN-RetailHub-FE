import{u as N,b as S,a as i,a1 as k,j as t,B as r,M as C,an as T,g as I,T as h,c as l,ao as P,ap as v}from"./index-fCbYz-6P.js";import{T as A}from"./TablePagination-hGNVGNlY.js";import{E as D}from"./useExportExcel-CuP74w3M.js";import"./FileSaver.min-BjsMR5-F.js";import{S as m}from"./Switch-DQFqkRTg.js";import{E}from"./Edit-CuBO9VBA.js";import{C as b}from"./Container-DdJtpPYi.js";import{A as H}from"./AddCircle-BEynYoHR.js";import{E as M}from"./Explicit-urxvSUud.js";import"./Chip-BAZYjULl.js";import"./TextField-D13pBZMm.js";import"./Tooltip-CTC8kJf2.js";import"./useThemeProps-Cz-DRPQp.js";import"./FormControlLabel-CKWm9ZMF.js";import"./SwitchBase-CxMVVAa1.js";import"./InputAdornment-DzH7OAyS.js";import"./KeyboardArrowRight-CeattqcP.js";function Z(){const n=N(),p=S(),[o,c]=i.useState(!1),[d,u]=k(),x=i.useMemo(()=>[{field:"productId",headerName:"Mã Sản phẩm",width:150},{field:"productName",headerName:"Tên sản phẩm",width:120},{field:"category",headerName:"Loại",width:120,renderCell:e=>{var a;return((a=e.row.category)==null?void 0:a.categoryName)||"Không có loại"}},{field:"unit",headerName:"Đơn vị tính",width:100},{field:"inventoryCount",headerName:"Tồn kho",width:120},{field:"cost",headerName:"Giá gốc",width:120},{field:"price",headerName:"Giá bán",width:120},{field:"expiryDate",headerName:"Ngày hết hạn",width:150},{field:"isActive",headerName:"Trạng thái",width:120,renderCell:e=>t.jsx(m,{checked:e.row.isActive,onChange:()=>f(e.row),color:"secondary"})},{field:"actions",headerName:"Công cụ",width:150,align:"center",renderCell:e=>t.jsx(r,{display:"flex",justifyContent:"left",alignItems:"center",children:t.jsx(C,{color:"primary",onClick:()=>g(e.row),children:t.jsx(E,{})})})}],[]),g=e=>{n(`/product/ProductDetail/${e.productId}`)},y=()=>{n("/product/ProductDetail/create")},f=e=>{const a={...e,taxId:e.tax.taxId,categoryId:e.category.categoryId,isActive:!e.isActive};console.log(a),p(T(a))},w=e=>{c(e.target.checked);const a=new URLSearchParams(d);a.set("showDeleted",e.target.checked),u(a)};i.useEffect(()=>{const e=d.get("showDeleted")==="true";c(e)},[]);const s=I(e=>{var a;return((a=e.ProductSlice)==null?void 0:a.data.data)||[]}),j=async()=>{const e=[{header:"STT",key:"STT",width:10},{header:"Mã sản phẩm",key:"productId",width:20},{header:"Tên sản phẩm",key:"productName",width:30},{header:"Mã vạch",key:"barcode",width:20},{header:"Đơn vị tính",key:"unit",width:15},{header:"Tồn kho",key:"inventoryCount",width:15},{header:"Giá gốc",key:"cost",width:15},{header:"Giá bán",key:"price",width:15},{header:"Ngày hết hạn",key:"expiryDate",width:20}];s&&D(e,s,"DanhSachSanPham")};return t.jsxs(b,{maxWidth:"xl",sx:{paddingTop:3},children:[t.jsxs(r,{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:3,children:[t.jsx(h,{variant:"h4",component:"h2",fontWeight:"bold",color:o?"#ab003c":"inherit",children:o?"DANH SÁCH SẢN PHẨM ĐÃ XÓA":"DANH SÁCH SẢN PHẨM"}),t.jsx(l,{variant:"contained",color:"success",startIcon:t.jsx(H,{}),onClick:y,children:"Thêm mới"})]}),t.jsx(r,{sx:{height:500,overflow:"auto"},children:t.jsx(A,{columns:x,sliceName:"ProductSlice",dispatchHandle:o?P:v,stt:!0,id:"productId"})}),t.jsxs(r,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:2,children:[t.jsxs(r,{display:"flex",alignItems:"center",children:[t.jsx(h,{variant:"body1",marginRight:1,color:"red",children:"Hiển thị sản phẩm đã bị xóa"}),t.jsx(m,{checked:o,onChange:w,color:"secondary"})]}),t.jsx(l,{variant:"contained",startIcon:t.jsx(M,{}),onClick:j,children:"Excel"})]})]})}export{Z as default};
