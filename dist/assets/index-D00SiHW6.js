import{r as D,i as R,j as e,a as t,u as P,b as E,P as F,B as c,T as W,c as a,N as _,p as q}from"./index-fCbYz-6P.js";import{d as M}from"./LockOutlined-BYT1XGMt.js";import{G as d}from"./Grid-BhrwLh7C.js";import{A}from"./Avatar-BgBfa0Bm.js";import{T as u}from"./TextField-D13pBZMm.js";import{F as L,C as T}from"./FormControlLabel-CKWm9ZMF.js";import{D as N,a as z,b as B}from"./DialogContent-BomaAlaV.js";import{D as G}from"./DialogTitle-ovlwR2kQ.js";import"./SwitchBase-CxMVVAa1.js";import"./useThemeProps-Cz-DRPQp.js";var m={},O=R;Object.defineProperty(m,"__esModule",{value:!0});var j=m.default=void 0,H=O(D()),K=e;j=m.default=(0,H.default)((0,K.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");const v=new _({position:{x:"right",y:"top"},dismissible:!0});function te(){const n=t.useRef(null),l=t.useRef(null),p=P(),b=E(),[y,h]=t.useState(!1),[i,g]=t.useState(localStorage.getItem("ip")||""),S=()=>h(!0),o=()=>h(!1),C=()=>{i&&(localStorage.setItem("ip",i),v.success("Đã lưu IP đăng nhập"),o())},[x,f]=t.useState(!1);t.useEffect(()=>{const r=localStorage.getItem("userEmail"),s=localStorage.getItem("userPassword");r&&s&&(n.current.value=r,l.current.value=s,f(!0))},[]);const I=async()=>{const r={email:n.current.value,password:l.current.value};try{await b(q(r)).unwrap(),x?(localStorage.setItem("userEmail",r.email),localStorage.setItem("userPassword",r.password)):(localStorage.removeItem("userEmail"),localStorage.removeItem("userPassword")),p("/dashboard")}catch(s){v.error("Sai thông tin! "+s.message)}},k=r=>{r.preventDefault(),I()},w=()=>{p("/forgotpassword")};return e.jsxs(e.Fragment,{children:[e.jsxs(d,{container:!0,component:"main",sx:{height:"100vh"},children:[e.jsx(d,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(/assets/images/background.png)",backgroundSize:"cover",backgroundPosition:"left"}}),e.jsx(d,{item:!0,xs:12,sm:8,md:5,component:F,elevation:6,square:!0,children:e.jsxs(c,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[e.jsx(A,{sx:{m:1,bgcolor:"secondary.main"},children:e.jsx(M,{})}),e.jsx(W,{component:"h1",variant:"h5",children:"Đăng nhập"}),e.jsxs(c,{component:"form",noValidate:!0,sx:{mt:1},children:[e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email",name:"email",autoComplete:"email",autoFocus:!0,inputRef:n}),e.jsx(u,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Mật khẩu",type:"password",id:"password",autoComplete:"current-password",inputRef:l}),e.jsx(L,{control:e.jsx(T,{value:"remember",color:"primary",checked:x,onChange:r=>f(r.target.checked)}),label:"Ghi nhớ tài khoản"}),e.jsx(a,{className:"font-bold h-15",onClick:k,fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Đăng nhập"}),e.jsx(a,{fullWidth:!0,variant:"outlined",onClick:w,sx:{mt:1,mb:2,color:"secondary.main",borderColor:"secondary.main","&:hover":{borderColor:"secondary.dark",backgroundColor:"rgba(255, 193, 7, 0.1)"},borderRadius:2,height:"32px"},children:"Quên mật khẩu?"})]})]})})]}),e.jsx(c,{sx:{position:"fixed",bottom:16,right:16,zIndex:999},children:e.jsx(a,{variant:"contained",color:"primary",onClick:S,sx:{minWidth:"48px",minHeight:"48px",borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:3},children:e.jsx(j,{})})}),e.jsxs(N,{open:y,maxWidth:"sm",onClose:o,children:[e.jsx(G,{children:"IP Server"}),e.jsx(z,{sx:{width:"100%"},children:e.jsx(u,{fullWidth:!0,autoFocus:!0,margin:"dense",id:"ip",type:"text",variant:"outlined",value:i,onChange:r=>g(r.target.value)})}),e.jsxs(B,{children:[e.jsx(a,{onClick:o,color:"secondary",children:"Hủy"}),e.jsx(a,{onClick:()=>{localStorage.removeItem("ip"),g(""),o()},color:"secondary",children:"Khôi phục mặc định"}),e.jsx(a,{onClick:C,color:"primary",children:"Lưu"})]})]})]})}export{te as default};
