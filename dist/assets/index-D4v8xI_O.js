import{u as g,b as j,a as c,j as e,B as a,M as y,g as C,T as d,c as h,ac as w,ad as N}from"./index-fCbYz-6P.js";import{T as H}from"./TablePagination-hGNVGNlY.js";import{E as I}from"./useExportExcel-CuP74w3M.js";import"./FileSaver.min-BjsMR5-F.js";import{E as k}from"./Edit-CuBO9VBA.js";import{C as T}from"./Container-DdJtpPYi.js";import{A as b}from"./AddCircle-BEynYoHR.js";import{S as v}from"./Switch-DQFqkRTg.js";import{E}from"./Explicit-urxvSUud.js";import"./Chip-BAZYjULl.js";import"./TextField-D13pBZMm.js";import"./Tooltip-CTC8kJf2.js";import"./useThemeProps-Cz-DRPQp.js";import"./FormControlLabel-CKWm9ZMF.js";import"./SwitchBase-CxMVVAa1.js";import"./InputAdornment-DzH7OAyS.js";import"./KeyboardArrowRight-CeattqcP.js";function Q(){const i=g();j();const[s,l]=c.useState(!1),m=c.useMemo(()=>[{field:"customerId",headerName:"Mã khách hàng",width:150},{field:"fullName",headerName:"Họ và tên",width:210},{field:"phoneNumber",headerName:"Số điện thoại",width:170},{field:"points",headerName:"Điểm",width:150},{field:"actions",headerName:"Công cụ",width:150,renderCell:t=>e.jsx(a,{display:"flex",justifyContent:"left",alignItems:"center",height:"100%",children:e.jsx(y,{color:"primary",onClick:()=>p(t.row),children:e.jsx(k,{})})})}],[s]),p=t=>{i(`/customer/CustomerDetail/${t.customerId}`)},u=()=>{i("/customer/CustomerDetail/create")},x=t=>{l(t.target.checked)},r=C(t=>{var n;return((n=t.customer.data)==null?void 0:n.data)||[]}),f=async()=>{const t=[{header:"STT",key:"STT",width:10},{header:"Mã khách hàng",key:"customerId",width:15},{header:"Họ và tên",key:"fullName",width:25},{header:"Số điện thoại",key:"phoneNumber",width:20},{header:"Điểm",key:"points",width:10},{header:"Trạng thái",key:"isActive",width:15}];if(!r)return;const n=r.map((o,S)=>({customerId:o.customerId,fullName:o.fullName,phoneNumber:o.phoneNumber,points:o.points!==void 0?o.points:0,isActive:o.isActive?"Hoạt động":"Không hoạt động"}));I(t,n,"DanhSachKhachHang")};return e.jsxs(T,{maxWidth:"xl",sx:{paddingTop:3},children:[e.jsxs(a,{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:3,children:[e.jsx(d,{variant:"h4",component:"h2",fontWeight:"bold",color:s?"#ab003c":"inherit",children:s?"DANH SÁCH KHÁCH HÀNG ĐÃ XÓA":"DANH SÁCH KHÁCH HÀNG"}),e.jsx(h,{variant:"contained",color:"success",startIcon:e.jsx(b,{}),onClick:u,children:"Thêm mới"})]}),e.jsx(a,{sx:{height:500,overflow:"auto"},children:e.jsx(H,{columns:m,stt:!0,id:"customerId",dispatchHandle:s?w:N,sliceName:"customer"})}),e.jsxs(a,{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:2,children:[e.jsxs(a,{display:"flex",alignItems:"center",children:[e.jsx(d,{variant:"body1",marginRight:1,color:"red",children:"Hiển thị khách hàng đã bị xóa"}),e.jsx(v,{checked:s,onChange:x,color:"secondary"})]}),e.jsx(h,{variant:"contained",startIcon:e.jsx(E,{}),onClick:f,children:"Excel"})]})]})}export{Q as default};
